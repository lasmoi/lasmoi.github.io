<html> 
<head>
	<link rel="stylesheet" type="text/css" href="css/Collatz/Collatz.css">
	<script src="js/jquery-2.2.4.min.js"></script>

<script>

$(document).ready(function(){

	function collatz(n,k){
		var d = new Date();
		var l = d.getTime();
		var count = 0;
		$("#count").append("{"+n+":");
		while(n>1){
			count++;
			if(n%2==1){
				$("#canvas").append(n+"</a> => ");
				n=k*n+1;
			}else{
				$("#canvas").append(n+"</a> => ");
				n=n/2;
			}
			var d2 = new Date();
			var n2 = d.getTime();
			if(n2-l>10000){
				console.log(d2);
				break;
			}
		}
		$("#canvas").append(n);
		$("#count").append(count+"} ");
	}

	function validate(){
		var input = parseInt($("#in").val());
		if(isNaN(input)){
			alert("Please type in an Int!");
			return;
		}else{
			console.log(input);
		}
		$("#canvas").text("");
		return input;
	}

	$("#Collatz").on("click",function(){
		collatz(validate(),3);
	});


});
</script>

</head>

<body>
	<div>
Type in a number, then witness the Math.<br>
<input id="in" value="27"/>      <button id="Collatz">Collatz it!</button> <span id="count"></span>
</div>
<p id="canvas">



</p>

</body>
</html>